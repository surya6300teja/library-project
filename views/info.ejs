<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>E-library</title>
    <link rel="stylesheet" href="./styles/main.css">
</head>
<body>
    <div class="content">
        
        <div class="title">
            <h1>E-Library</h1>
        </div>
        <hr>
        
        <div class="item">
            
            <% for(let item of listItems){%>
                <img src="https://covers.openlibrary.org/b/isbn/0<%= item.isbn%>-M.jpg" alt="">
                <div class="title">
                    <h2><%= item.title %> </h2>
                    <h3>-By <%= item.author %></h3>
                </div>
                <div class="date">
                    <p>ISBN: <%= item.isbn %></p>
                    <p><%= item.dates %></p>
                    <p>How strongly I recommend it: <%= item.recommendation %>/10</p>
                </div>
                <div class="summary">
                    <p><%= item.summary %></p>
                </div>
                <div class="contents">
                    <h3>Book contents:</h3>
                    <p><%= item.contents %></p>
                </div>
                <div class="links">
                    <a href="./edit?id=<%= item.id %>">Edit</a>
                    
                    <a href="#" onclick="showDeleteConfirmation()">Delete</a>
                 </div>
                <hr>
                

                <div id="deleteConfirmation" class="overlay">
                    <div class="popup">
                        <p>Are you sure you want to delete this item?</p>
                        <a href="./delete?id=<%= item.id %> " class="btn btn-confirm" >Yes,Delete</a>
                        <button class="btn btn-cancel" onclick="hideDeleteConfirmation()">Cancel</button>
                    </div>
                </div>
                <a href="./">Back!</a>
            <% } %>
        </div>
    </div>
    <script>
        function showDeleteConfirmation() {
            document.getElementById('deleteConfirmation').style.display = 'flex';
        }
    
        function hideDeleteConfirmation() {
            document.getElementById('deleteConfirmation').style.display = 'none';
        }
    
        
    </script>
    

</body>
</html>